(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(33)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),r=n.n(o),s=(n(16),n(17),n(1)),c=n(2),u=n(4),l=n(3),h=n(6),d=n(5),p=(n(18),function(){return i.a.createElement("div",{className:"Instructions container"},i.a.createElement("div",{className:"Instructions-content container"},i.a.createElement("h2",null,"How to Play"),i.a.createElement("p",null,'Each round, you select an insult from the choices. Your "pirate opponent" will comeback and, if it\'s the correct comeback, it will be their turn to insult you. Then you select a comeback from your choices that matches their insult.'),i.a.createElement("p",null,"An insult that receives the incorrect comeback results in a point for the insulter. The first to 2 consecutive points wins the round."),i.a.createElement("p",null,'There are 16 insults and comebacks to learn (not including the nonsense ones like "Boy are you ugly!" and "Oh yeah?").'),i.a.createElement("p",null,"Once you learn them all you win!")))}),m=(n(19),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=this;document.getElementsByClassName("Title")[0].style.animation="fadeout 2500ms",setTimeout(function(){t.props.updateMode(t.props.modeToSet)},2e3)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Title container"},i.a.createElement("h1",null,"Insult ",i.a.createElement("span",null,"Swordfighting")),i.a.createElement("h2",null,"Based on the mechanic from The Secret of Monkey Island by Ron Gilbert"),i.a.createElement("p",null,"How many rounds will it take you to become good enough to challenge the Sword Master?"),i.a.createElement("button",{className:"Title-start-btn btn",onClick:this.handleClick},"Begin!"))}}]),t}(a.Component));m.defaultProps={modeToSet:"fightStart"};n(20);var y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeoutId=setTimeout(function(){e.props.updateMode(e.props.modeToSet)},3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"FightStart container"},i.a.createElement("h1",null,"Fight ",this.props.fightCounter," Begin!"))}}]),t}(a.Component);y.defaultProps={modeToSet:"fight"};n(21);var f=function(e){var t=e.name,n=e.msg;return n&&n.length>0?i.a.createElement("p",{className:"Message-".concat(t," Message")},i.a.createElement("span",{id:"speaker-name"},t),": ",n):null},g=(n(22),function(e){var t=e.topSpeaker,n=e.bottomSpeaker,a=e.topMsg,o=e.bottomMsg;return i.a.createElement("div",{className:"Messages"},i.a.createElement(f,{name:t,msg:a}),i.a.createElement(f,{name:n,msg:o}))}),b=(n(23),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.makeChoice(this.props.choice)}},{key:"render",value:function(){return i.a.createElement("button",{className:"Choice",onClick:this.handleClick,disabled:this.props.isChoiceMade},i.a.createElement("div",{className:"Choice-hovered-choice"}),i.a.createElement("div",{className:"Choice-text"},this.props.choice))}}]),t}(a.Component)),k=(n(24),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={isChoiceMade:!1},n.makeChoice=n.makeChoice.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"makeChoice",value:function(e){var t=this;this.setState({isChoiceMade:!0},function(){setTimeout(function(){t.setState({isChoiceMade:!1})},500)}),this.props.updateRound(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"player-choices",className:"Choices container"},this.props.choices.map(function(t){return i.a.createElement(b,{choice:t,key:t,makeChoice:e.makeChoice,isChoiceMade:e.state.isChoiceMade})}))}}]),t}(a.Component)),v=n(7),w=(n(25),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("li",{className:"Pair"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",null,"I:")," ",this.props.pair.insult),i.a.createElement("li",null,i.a.createElement("span",null,"C:")," ",this.props.pair.comeback)))}}]),t}(a.Component)),E=(n(26),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={showInventory:!1,inventory:n.setInventory()},n.handleToggleInventory=n.handleToggleInventory.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleToggleInventory",value:function(){this.setState(function(e){return{showInventory:!e.showInventory}})}},{key:"setInventory",value:function(){var e=Object(v.a)(this.props.knownIC.insults).slice(0,this.props.knownIC.insults.length-2),t=Object(v.a)(this.props.knownIC.comebacks).slice(0,this.props.knownIC.comebacks.length-3),n=[];return this.props.allInsults.forEach(function(a,i){var o="",r="";-1!==e.indexOf(a.insult)&&(o=a.insult),-1!==t.indexOf(a.comeback)&&(r=a.comeback),""===o&&""===r||n.push({insult:o,comeback:r})}),n}},{key:"getTotalPairs",value:function(){return this.state.inventory.filter(function(e){return""!==e.insult&&""!==e.comeback}).length}},{key:"render",value:function(){return i.a.createElement("div",{className:"Inventory container"},i.a.createElement("div",{className:"Inventory-always-visible"},i.a.createElement("p",{className:"Inventory-total-pairs"},this.getTotalPairs()," / 16 Pairs Known")),i.a.createElement("ul",{className:"Inventory-content"},this.state.inventory.map(function(e,t){return i.a.createElement(w,{pair:e,key:t})})))}}]),t}(a.Component)),C=[{id:"0",insult:"You fight like a Dairy Farmer!",comeback:"How appropriate! You fight like a cow!"},{id:"1",insult:"This is the END for you, you gutter crawling cur!",comeback:"And I've got a little TIP for you, get the POINT?"},{id:"2",insult:"I've spoken with apes more polite than you!",comeback:"I'm glad to hear you attended your family reunion!"},{id:"3",insult:"Soon you'll be wearing my sword like a shish kebab!",comeback:"First you better stop waving it about like a feather duster."},{id:"4",insult:"People fall at my feet when they see me coming!",comeback:"Even BEFORE they smell your breath?"},{id:"5",insult:"I'm not going to take your insolence sitting down!",comeback:"Your hemorroids are flaring up again eh?"},{id:"6",insult:"I once owned a dog that was smarter than you.",comeback:"He must have taught you everything you know."},{id:"7",insult:"Nobody's ever drawn blood from me and nobody ever will.",comeback:"You run THAT fast?"},{id:"8",insult:"Have you stopped wearing diapers yet?",comeback:"Why? Did you want to borrow one?"},{id:"9",insult:"There are no words for how disgusting you are.",comeback:"Yes there are. You just never learned them."},{id:"10",insult:"You make me want to puke.",comeback:"You make me think somebody already did."},{id:"11",insult:"My handkerchief will wipe up your blood!",comeback:"So you got that job as janitor, after all."},{id:"12",insult:"I got this scar on my face during a mighty struggle!",comeback:"I hope now you've learned to stop picking your nose."},{id:"13",insult:"I've heard you are a contemptible sneak.",comeback:"Too bad no one's ever heard of YOU at all."},{id:"14",insult:"You're no match for my brains, you poor fool.",comeback:"I'd be in real trouble if you ever used them."},{id:"15",insult:"You have the manners of a beggar.",comeback:"I wanted to make sure you'd feel comfortable with me."}],I=(n(27),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="insult"===this.props.turnType?"player":"pirate",t="";t="draw"===this.props.winner?"Draw! ".concat(e," turn."):"".concat(this.props.winner," wins the exchange. ").concat(this.props.winner," goes again.");var n="player"===this.props.winner?"EndExchange-".concat(this.props.winner,"-win"):"";return i.a.createElement("div",{className:"EndExchange ".concat(n)},i.a.createElement("p",null,t))}}]),t}(a.Component)),O=(n(28),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.initNextRound(),this.props.updateMode(this.props.modeToSet)}},{key:"render",value:function(){return i.a.createElement("div",{className:"FightEnd container"},i.a.createElement("p",null,this.props.winner," wins! "),i.a.createElement("button",{className:"btn",onClick:this.handleClick},"Continue"))}}]),t}(a.Component));O.defaultProps={modeToSet:"fightStart"};var j=function(e){return Math.floor(Math.random()*e)},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;setTimeout(function(){return e()},t)},M=function(){function e(t){Object(s.a)(this,e),this.msg="",this.insultPool=this.initPool(),this.turnType="comeback",this.roundPoints=0,this.matchedComeback=!1,this.round=t}return Object(c.a)(e,[{key:"initPool",value:function(){return C.map(function(e){return e.insult})}},{key:"insult",value:function(){var e=this;0===this.insultPool.length&&(this.insultPool=this.initPool());var t=this.insultPool;return this.msg=t[j(t.length)],this.insultPool=t.filter(function(t){return t!==e.msg}),this.msg}},{key:"comeback",value:function(e){return this.matchedComeback=!1,Math.random()>(this.round<4?.3:0)?(this.msg=this.getCorrectResponse(e),this.matchedComeback=!0):this.msg=this.getIncorrectResponse(),this.msg}},{key:"getCorrectResponse",value:function(e){var t=C.filter(function(t){return t.insult===e});return 0===t.length?this.getIncorrectResponse():t[0].comeback}},{key:"getIncorrectResponse",value:function(){var e=["Oh yeah?","I'm shaking, I'm shaking.","I am rubber, you are glue."];return e[j(e.length)]}},{key:"removeInsultSpokenByPlayer",value:function(e){this.insultPool=this.insultPool.filter(function(t){return t!==e})}}]),e}(),P={insults:["You fight like a Dairy Farmer!","This is the END for you, you gutter crawling cur!","Boy are you ugly!","What an idiot!"],comebacks:["How appropriate! You fight like a cow!","And I've got a little TIP for you, get the POINT?","Oh yeah?","I am rubber, you are glue.","I'm shaking, I'm shaking."]},S=new(function(){function e(t){Object(s.a)(this,e),this.msg="",this.knownIC=t,this.turnType="insult",this.roundPoints=0}return Object(c.a)(e,[{key:"reset",value:function(){this.turnType="insult",this.msg=0,this.roundPoints=0}},{key:"updateKnownIC",value:function(e,t){var n="insults"===e?-2:-3,a=Object(v.a)(this.knownIC[e]);return a.splice(n,0,t),a}},{key:"updateChoices",value:function(){var e="insult"===this.turnType?"insults":"comebacks";return this.knownIC[e]}},{key:"isNonsenseInsult",value:function(){return this.knownIC.insults.indexOf(this.msg)>=this.knownIC.insults.length-2}}]),e}())(Object.assign({},P)),N=(n(29),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={exchangeWinner:null,roundWinner:null,choices:[],playerMsg:"",pirateMsg:""},n.updateRound=n.updateRound.bind(Object(h.a)(n)),n.initNextRound=n.initNextRound.bind(Object(h.a)(n)),n.updatePlayerChoices=n.updatePlayerChoices.bind(Object(h.a)(n)),n.clearPrevExchangeDisplays=n.clearPrevExchangeDisplays.bind(Object(h.a)(n)),n.props.updateFightCounter(),n.pirate=new M(n.props.round),n.topSpeaker="Player",n.bottomSpeaker="Pirate",n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updatePlayerChoices()}},{key:"initPirate",value:function(){return new M(this.props.round)}},{key:"initNextRound",value:function(){this.initPirate(),this.setState({roundWinner:null,exchangeWinner:null,playerMsg:"",pirateMsg:""}),this.topSpeaker="Player",this.bottomSpeaker="Pirate",S.reset()}},{key:"isMatch",value:function(){var e=this;return C.filter(function(t){return t[S.turnType]===S.msg&&t[e.pirate.turnType]===e.pirate.msg}).length>0}},{key:"updatePlayerChoices",value:function(){this.setState({choices:S.updateChoices()})}},{key:"clearPrevExchangeDisplays",value:function(){console.log("clearPrevExchangeDisplays");var e="comeback"===S.turnType?this.pirate.msg:"";this.setState({pirateMsg:e,playerMsg:"",choices:[],exchangeWinner:null})}},{key:"isFightWon",value:function(){return 2===S.roundPoints||2===this.pirate.roundPoints}},{key:"updateRound",value:function(e){var t=this,n=1500;S.msg=e,"insult"===S.turnType?this.setState({playerMsg:S.msg}):T(function(){n=1e3,t.setState({playerMsg:S.msg})},1500);var a=this.pirate.turnType;"insult"===S.turnType&&this.pirate.removeInsultSpokenByPlayer(S.msg),"comeback"===this.pirate.turnType&&this.pirate.comeback(S.msg),T(function(){"comeback"===t.pirate.turnType&&t.setState({pirateMsg:t.pirate.msg});var e="";t.isMatch()||S.isNonsenseInsult()?(e="draw",t.swapTurnTypes(),S.roundPoints=0,t.pirate.roundPoints=0):"insult"===S.turnType?(e="player",t.topSpeaker="Player",t.bottomSpeaker="Pirate",S.roundPoints++):(e="pirate",t.topSpeaker="Pirate",t.bottomSpeaker="Player",t.pirate.roundPoints++),t.addICToKnown(a),t.exchangeEnd(e)},n)}},{key:"addICToKnown",value:function(e){"comeback"===e&&this.pirate.matchedComeback&&this.addIfUnknown("comebacks",this.pirate.msg),"insult"===e&&this.addIfUnknown("insults",this.pirate.msg)}},{key:"addIfUnknown",value:function(e,t){-1===S.knownIC[e].indexOf(t)&&(console.log("learned ".concat(e,": ").concat(t)),S.knownIC[e]=S.updateKnownIC(e,t))}},{key:"swapTurnTypes",value:function(){var e="insult"===S.turnType?"comeback":"insult";this.pirate.turnType=S.turnType,S.turnType=e,console.log("swapping:",S.turnType)}},{key:"endRound",value:function(e){console.log("endRound"),this.setState({roundWinner:e})}},{key:"isGameWon",value:function(){var e=C.length;return S.knownIC.insults.length===e+2&&S.knownIC.comebacks.length===e+3}},{key:"exchangeEnd",value:function(e){this.isGameWon()?this.props.updateMode("win"):this.isFightWon()?this.endRound(e):(this.setState({exchangeWinner:e}),"insult"===this.pirate.turnType&&this.pirate.insult(),T(this.updatePlayerChoices,3900),T(this.clearPrevExchangeDisplays,1500))}},{key:"renderFightEnd",value:function(){return i.a.createElement(O,{updateMode:this.props.updateMode,winner:this.state.roundWinner,initNextRound:this.initNextRound})}},{key:"renderMessages",value:function(){var e="Player"===this.topSpeaker?this.state.playerMsg:this.state.pirateMsg,t="Pirate"===this.bottomSpeaker?this.state.pirateMsg:this.state.playerMsg;return i.a.createElement(g,{topSpeaker:this.topSpeaker,topMsg:e,bottomSpeaker:this.bottomSpeaker,bottomMsg:t})}},{key:"renderEndExchange",value:function(){return i.a.createElement(I,{winner:this.state.exchangeWinner,turnType:S.turnType})}},{key:"renderChoices",value:function(){return i.a.createElement(k,{choices:this.state.choices,updateRound:this.updateRound})}},{key:"renderInventory",value:function(){return i.a.createElement(E,{toggleInventory:this.props.toggleInventory,allInsults:C,knownIC:S.knownIC})}},{key:"renderContent",value:function(){return null!==this.state.roundWinner?this.renderFightEnd():i.a.createElement("div",{className:"Fight-content"},i.a.createElement("section",{className:"Fight-Messages"},this.renderMessages()),i.a.createElement("section",{className:"Fight-Exchange-Info"},null!==this.state.exchangeWinner?this.renderEndExchange():i.a.createElement("p",{style:{color:"white"}},"insult"===S.turnType?"Choose an Insult":"Choose a Comeback")),i.a.createElement("section",{className:"Fight-Choices"},this.renderChoices()),i.a.createElement("section",{className:"Fight-Inventory"},this.renderInventory()))}},{key:"render",value:function(){return i.a.createElement("div",{className:"Fight container"},this.renderContent())}}]),t}(a.Component)),x=(n(30),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Win container"},i.a.createElement("h1",null,"You Win!"),i.a.createElement("p",null,"You've learned all the insults and comebacks. You're good enough to fight the Sword Master."))}}]),t}(a.Component)),R=(n(31),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={mode:"title",showInstructions:!1,fightCounter:1},n.updateMode=n.updateMode.bind(Object(h.a)(n)),n.handleShowInstructions=n.handleShowInstructions.bind(Object(h.a)(n)),n.updateFightCounter=n.updateFightCounter.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateMode",value:function(e){this.setState({mode:e})}},{key:"updateFightCounter",value:function(){this.setState(function(e){return{fightCounter:e.fightCounter+1}})}},{key:"handleShowInstructions",value:function(e){var t=this,n=document.getElementsByClassName("Instructions")[0];this.state.showInstructions&&(n.style.animation="pullup 1s"),setTimeout(function(){t.setState(function(e){return{showInstructions:!e.showInstructions}})},300)}},{key:"renderMode",value:function(){var e=this.state.mode;return"title"===e?i.a.createElement(m,{updateMode:this.updateMode}):"fightStart"===e?i.a.createElement(y,{updateMode:this.updateMode,fightCounter:this.state.fightCounter}):"fight"===e?i.a.createElement(N,{updateMode:this.updateMode,updatePlayerTurn:this.updatePlayerTurn,updateRoundWin:this.updateRoundWin,updateFightCounter:this.updateFightCounter,round:this.state.fightCounter,gameWon:this.gameWon}):"win"===e?i.a.createElement(x,null):void 0}},{key:"render",value:function(){return i.a.createElement("div",{className:"Game container"},i.a.createElement("button",{className:"btn",id:"Game-instructions-btn",onClick:this.handleShowInstructions},this.state.showInstructions?"Hide":"Show"," Instructions"),this.state.showInstructions&&i.a.createElement(p,null),this.renderMode())}}]),t}(a.Component)),W=(n(32),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Info container"},i.a.createElement("p",null,"Insult Swordfighting is a mechanic from the ",i.a.createElement("span",null,i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Monkey_Island_(series)",target:"_blank",rel:"noopener noreferrer"},"Monkey Island"))," point-and-click adventure game series, created by Ron Gilbert and developed by LucasArts. All of the insults/comebacks here are from The Secret of Monkey Island, written by Ron Gilbert, Dave Grossman, and Tim Schafer."),i.a.createElement("p",null,"I re-created my version of the mechanic with React as a learning experience and for fun. "),i.a.createElement("p",null,i.a.createElement("a",{href:"https://github.com/robotspacefish",target:"_blank",rel:"noopener noreferrer"},"robotspacefish"),"!"))}}]),t}(a.Component));var F=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(R,null),i.a.createElement("footer",null,i.a.createElement(W,null)))};r.a.render(i.a.createElement(F,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.9bbde674.chunk.js.map